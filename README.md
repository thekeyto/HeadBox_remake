# HeadBox_remake
实习任务



day1
思考了一下这七天的目标，暂时先完成双人模式，有时间多再实现联机功能

制作的过程难点主要在于武器切换和动画、攻击判定（之前没接触过动画方面的操作），主要还是动画方面的制作吧

今天主要目标是敌人的生成（暂时没有完善生成规则）、及自动寻路以及人物操作

完成主相机的控制，人物的操作，地图的烘焙
利用sceneController脚本进行游戏的控制

学习使用单例使用公共函数

在unity商店白嫖丧尸的3d模型，发现没有动作动画，在b站上看一下有关动作的教学视频
地图的话，一直白嫖一直爽，自己随便搭建的

ps:白天八节课还是挤了一些时间出来，节奏地牢的ost真的带感，八点先上传一次吧，还在看动画方面的教程 折腾git又折腾了一阵（咸鱼爪巴）

另外unity挂梯子打不开，不挂梯子资源商店上不去，有毒



day2

哭了，git操作出错（23:20），今天改的代码全回到昨天了，readme都回到原样，只剩下一个编辑好的animator

还好今天主要以学习动画的交互为主，get blend tree的使用，了解了骨骼以及动画的运用，明天重构相对来说没有那么复杂（但是心态还是崩了）

现在的思路是找到一套运用枪械的骨骼，顺带白嫖动作，把持枪和动作分成两个layer。

现在完成了一个人物行走，受伤，死亡的动画控制器。

晚上运用过程中出现的问题是使用动画后人物的y轴会莫名变化，锁定了动画的y轴也还是出现同样的问题，可能是动作的原因，明天换一套动作试试。



day3

在后续学习中了解到了avatmask的作用。

后来去siki学院找了一下有关动画的资料

下载资源试验一下给出的动画文件

发现blendtree中的动作产生了矛盾，bug陷地，就没有采用了，开始采另一组动作。

完成了敌人的生成规则，基于时间和轮数生成

完成红盒的生成规则和拾取效果（等级提升以及回血），基于时间和欧气生成（空投）

重新做了一次slider

丧尸的素材找了几套，终于找到一套带动作的，虽然有点不忍直视，之前的骨骼与动画不匹配
最后完成了脚本控制下的普通丧尸移动。

完成了人物之间血量，攻击的脚本判定函数（使用sendmassage）

感觉代码写的可能比较凌乱，没有养成特别好的习惯

<<<<<<< HEAD
ps:边做边听歌还是有动力些，今日最佳：Perfume。今天补充的代码量还算比较多，昨天的好像改回来也不是很多，主要还是关于动画的学习。今天才发现项目名字打错了，😵。找素材真的挺花时间的。

day4

残念。。。发现之前陷入地下的bug是没有加上blend tree的参数所致，之前还找了好久

但是使用rigidbody.velocity控制人物位移时没有产生正常的效果，angularvelocity却可以正常转动

找了一阵子bug后，感觉什么都没改就可以正常运动了（黑人问号）

然后开始丧尸追踪以及触发红盒子的调试，发现collider由于没有获取所有组件，导致无法正常触发被攻击等效果

于是使用Physics.OverlapSphere获取组件所有碰撞信息，正常拾取盒子，等级提升

另外丧尸可以正常播放移动，攻击动画，但是会鬼畜扎堆，修改了一下追踪的规则，完成了靠近哪个玩家就设置agent为那个玩家

对于枪械的切换问题想法是，通过instantiate以及实现对枪械的切换。子弹数目可以通过玩家的脚本控制，另外子弹射速可以通过deltatime控制。（至于动画，自然是没找到合适的，暂时只能隔空持枪了，咸鱼瘫）

子弹飞行距离可以使用带时间的destroy方法实现

写代码的过程中发现没有很好的利用好单例导致代码有些复杂，今天主要完善现有代码的功能

ps:之后就几天就慢慢实现以上的想法以及改现在的bug了，在12点前提交一下
=======
ps:边做边听歌还是有动力些，今日最佳：Perfume。今天补充的代码量还算比较多，昨天的好像改回来也不是很多，主要还是关于动画的学习。今天才发现项目名字打错了，😵。找素材真的挺花时间的。接下来还要完成boss的生成、基于等级的武器体系，以及武器动画。
>>>>>>> 7d34684c9110db19172a6bd77d1472c53f2e47dd

day5

完成了武器系统的代码

由于没有动作文件，暂时只能固定枪械

通过instantiate和destory方法实现枪械的替换

通过playerAttack脚本实现武器系统的控制，包括射速，子弹速度，子弹数目

添加了一把初始手枪

在主相机的控制过程中发现19版的unity可以实时更新挂载的public组件，18版的不可以，只能先用着Gameobject.find()进行位置更新了

可以正常对丧尸造成伤害了

晚上继续调试武器系统

调试完毕，可以正常切枪以及造成伤害，暂时还只有两把武器，但是只要加一点参数就可以加武器了

boss可以考虑使用类似玩家的攻击手段(代码相似)，移动则是普通丧尸的

day6

完成boss的生成与攻击动作，使用transform.lookat瞄准

另外设置脚本给boss创建bullet，调试过后正常造成伤害（boss可以正常对友军造成伤害）

另外看到角色的动作包里有跳跃动作，设置角色的跳跃，白墙的高度为人物的一半，然鹅使用translate方法和addforce方法都无法使角色y坐标变化，修改动画中的坐标烘焙也没用，暂时搁置，只添加白墙（角色的动作包里还有表情动画，真的良心）

完成了白墙的生成以及被攻击时消除（15级解锁，300血量）

添加显示当前武器及子弹数目的text

角色受伤动画可以正常运行

添加了手榴弹（15级解锁，范围伤害，根据距离爆炸中心计算伤害）

至此，第一张图完成了，双人游戏可以正常运行，好像有点难，稍微改了一下丧尸生成数量。

第二张地图制作完成，明天制作一下地图选择的ui吧，顺带加一点武器

day7

学习并完成了游戏菜单的按钮及事件绑定

更新8把新武器，包括激光枪、霰弹枪

所有武器调试完毕

自己试玩了一下，发现生成的敌人还是有点多，改了一下生成的设置

地图调试完毕，增加一张地图（dust2（bushi））

添加了节奏地牢的bgm

至此，这七天结束了。然鹅作业都没碰，该还债了🙃

芜湖~作业起飞 飞飞飞飞飞飞飞飞飞

day7.1

有个bug改过来了，修改了图3

ps：然鹅作业又没碰